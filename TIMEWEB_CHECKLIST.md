# Чек-лист деплоя Telegram бота на Timeweb Cloud

## 1. Подготовка инфраструктуры
- [ ] Создан виртуальный сервер на Timeweb Cloud
- [ ] Установлена Ubuntu LTS
- [ ] Настроен SSH-доступ
- [ ] Открыты необходимые порты (8080)

## 2. Установка Docker
- [ ] Установлен Docker
- [ ] Установлен docker-compose
- [ ] Текущий пользователь добавлен в группу docker
- [ ] Проверена версия Docker: `docker --version`
- [ ] Проверена версия docker-compose: `docker-compose --version`

## 3. Клонирование репозитория
- [ ] Репозиторий склонирован: `git clone https://github.com/TXMERLXN/TELEGRAM_BOT_V5.git`
- [ ] Переход в директорию проекта
- [ ] Проверка текущей ветки (master)

## 4. Конфигурация Docker
- [ ] Проверен Dockerfile
- [ ] Проверен docker-compose.yml
- [ ] Корректно указан BOT_TOKEN
- [ ] Корректно указан WEBHOOK_HOST
- [ ] Настроены volumes для логов и данных

## 5. Сборка и запуск
- [ ] Сборка Docker-образа: `docker-compose build`
- [ ] Запуск контейнера: `docker-compose up -d`
- [ ] Проверка статуса контейнера: `docker-compose ps`
- [ ] Просмотр логов: `docker-compose logs telegram-bot`

## 6. Проверка работоспособности бота
- [ ] Webhook корректно настроен
- [ ] Бот отвечает на команду `/start`
- [ ] Генерация изображений работает
- [ ] Обработка ошибок функционирует
- [ ] Корректная обработка очереди задач

## 7. Безопасность
- [ ] Файервол настроен
- [ ] Порт 8080 открыт
- [ ] Токен бота не виден в публичном доступе
- [ ] Используется HTTPS для webhook

## 8. Мониторинг и логирование
- [ ] Логи контейнера доступны
- [ ] Настроен мониторинг ресурсов: `docker stats`
- [ ] Проверены логи на наличие критических ошибок

## 9. Резервное копирование
- [ ] Volumes для данных смонтированы
- [ ] Настроено резервное копирование данных
- [ ] Проверена возможность отката версии

## 10. Производительность
- [ ] Проверена нагрузка на CPU
- [ ] Проверено использование памяти
- [ ] Тест производительности генерации изображений

## Критерии успешного деплоя
- [ ] Бот полностью функционален
- [ ] Нет критических ошибок
- [ ] Производительность соответствует требованиям

## Шаблон отчета
```markdown
### Результат деплоя на Timeweb Cloud
- **Статус**: Успешно / Частично / Неудачно
- **Версия бота**: X.X.X
- **Дата деплоя**: ГГГГ-ММ-ДД
- **Комментарии**: 
```

## Troubleshooting
- Проверить логи Docker: `docker-compose logs`
- Перезапустить контейнер: `docker-compose restart`
- Остановить и удалить: `docker-compose down`

**Дата последнего обновления**: 16.01.2025
